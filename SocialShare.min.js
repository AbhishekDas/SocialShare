(function(t){t.fn.ShareLink=function(e){var n={title:"",text:"",image:"",url:window.location.href,class_prefix:"s_",height:430,width:640};var e=t.extend({},n,e);var a=e.class_prefix.length;var r={twitter:"https://twitter.com/home?status={title}+{url}",pinterest:"https://pinterest.com/pin/create/bookmarklet/?media={image}&url={url}&is_video=false&description={title}",facebook:"https://www.facebook.com/sharer.php?s=100&p[title]={title}&p[summary]={text}&p[url]={url}&p[images][0]={url}",vk:"https://vkontakte.ru/share.php?url={url}&title={title}&description={text}",linkedin:"https://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}",myworld:"http://connect.mail.ru/share?url={url}&title={title}&description={text}&imageurl={image}",odnoklassniki:"http://odnoklassniki.ru/dk?st.cmd=addShare&st._surl={url}&st.comments={text}"};function i(t){var n=r[t];n=n.replace("{url}",encodeURIComponent(e.url));n=n.replace("{title}",encodeURIComponent(e.title));n=n.replace("{text}",encodeURIComponent(e.text));n=n.replace("{image}",encodeURIComponent(e.image));return n}this.each(function(n,o){var s=o.classList;for(var n=0;n<s.length;n++){var c=s[n];if(c.substr(0,a)==e.class_prefix&&r[c.substr(a)]){var u=i(c.substr(a));t(o).attr("href",u).click(function(){return window.open(t(this).attr("href"),"","height="+e.height+",width="+e.width)&&false})}}})};t.fn.ShareCounter=function(e){var n={url:window.location.href,class_prefix:"c_"};var e=t.extend({},n,e);var a=e.class_prefix.length;var r={twitter:i,facebook:o,vk:s,myworld:c,linkedin:u,odnoklassniki:l,pinterest:p};this.each(function(n,i){var o=i.classList;for(var n=0;n<o.length;n++){var s=o[n];if(s.substr(0,a)==e.class_prefix&&r[s.substr(a)]){r[s.substr(a)](e.url,function(e){t(i).text(e)})}}});function i(e,n){t.ajax({type:"GET",dataType:"jsonp",url:"https://cdn.api.twitter.com/1/urls/count.json",data:{url:e}}).done(function(t){n(t.count)}).fail(function(t){n(0)})}function o(e,n){t.ajax({type:"GET",dataType:"jsonp",url:"https://api.facebook.com/restserver.php",data:{method:"links.getStats",urls:[e],format:"json"}}).done(function(t){n(t[0].share_count)}).fail(function(){n(0)})}function s(e,n){VK={Share:{count:function(t,e){n(e)}}};t.ajax({type:"GET",dataType:"jsonp",url:"https://vk.com/share.php",data:{act:"count",index:0,url:e}}).fail(function(t,e){if(e!="parsererror"){n(0)}})}function c(e,n){var a=[];t.ajax({type:"GET",dataType:"jsonp",url:"https://connect.mail.ru/share_count",jsonp:"func",data:{url_list:e,callback:"1"}}).done(function(t){n(t[e].shares)}).fail(function(t){n(0)})}function u(e,n){t.ajax({type:"GET",dataType:"jsonp",url:"https://www.linkedin.com/countserv/count/share",data:{url:e,format:"jsonp"}}).done(function(t){n(t.count)}).fail(function(){n(0)})}function l(e,n){t.ajax({type:"GET",dataType:"jsonp",url:"http://odnoklassniki.ru/dk",jsonp:"cb",data:{"st.cmd":"shareData",ref:e}}).done(function(t){n(parseInt(t.count))}).fail(function(){n(0)})}function p(e,n){t.ajax({type:"GET",dataType:"jsonp",url:"https://api.pinterest.com/v1/urls/count.json",data:{url:e}}).done(function(t){n(t.count)}).fail(function(){n(0)})}}})(jQuery);