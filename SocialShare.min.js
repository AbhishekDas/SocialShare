(function(t){t.fn.ShareLink=function(e){var n={title:"",text:"",image:"",url:window.location.href,class_prefix:"s_"};var e=t.extend({},n,e);var r=e.class_prefix.length;var a={twitter:"https://twitter.com/intent/tweet?url={url}&text={text}",pinterest:"https://www.pinterest.com/pin/create/button/?media={image}&url={url}&description={text}",facebook:"https://www.facebook.com/sharer.php?s=100&p[title]={title}&p[summary]={text}&p[url]={url}&p[images][0]={image}",vk:"https://vkontakte.ru/share.php?url={url}&title={title}&description={text}&image={image}&noparse=true",linkedin:"http://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}&summary={text}&source={url}",myworld:"http://connect.mail.ru/share?url={url}&title={title}&description={text}&imageurl={image}",odnoklassniki:"http://odnoklassniki.ru/dk?st.cmd=addShare&st.s=1&st._surl={url}&st.comments={text}",tumblr:"https://tumblr.com/share?s=&v=3&t={title}&u={url}",blogger:"http://blogger.com/blog-this.g?t={text}&n={title}&u={url}",delicious:"http://delicious.com/save?url={url}&title={title}",plus:"https://plus.google.com/share?url={url}"};function o(t){var n=a[t];n=n.replace("{url}",encodeURIComponent(e.url));n=n.replace("{title}",encodeURIComponent(e.title));n=n.replace("{text}",encodeURIComponent(e.text));n=n.replace("{image}",encodeURIComponent(e.image));return n}this.each(function(n,i){var s=i.classList;for(var n=0;n<s.length;n++){var u=s[n];if(u.substr(0,r)==e.class_prefix&&a[u.substr(r)]){var l=o(u.substr(r));t(i).attr("href",l).click(function(){return window.open(t(this).attr("href"),"","toolbar=0,status=0,width=626,height=436")&&false})}}})};t.fn.ShareCounter=function(e){var n={url:window.location.href,class_prefix:"c_"};var e=t.extend({},n,e);var r=e.class_prefix.length;var a={twitter:o,facebook:i,vk:s,myworld:u,linkedin:l,odnoklassniki:c,pinterest:p};this.each(function(n,o){var i=o.classList;for(var n=0;n<i.length;n++){var s=i[n];if(s.substr(0,r)==e.class_prefix&&a[s.substr(r)]){a[s.substr(r)](e.url,function(e){t(o).text(e)})}}});function o(e,n){t.ajax({type:"GET",dataType:"jsonp",url:"https://cdn.api.twitter.com/1/urls/count.json",data:{url:e}}).done(function(t){n(t.count)}).fail(function(t){n(0)})}function i(e,n){t.ajax({type:"GET",dataType:"jsonp",url:"https://api.facebook.com/restserver.php",data:{method:"links.getStats",urls:[e],format:"json"}}).done(function(t){n(t[0].share_count)}).fail(function(){n(0)})}function s(e,n){VK={Share:{count:function(t,e){n(e)}}};t.ajax({type:"GET",dataType:"jsonp",url:"https://vk.com/share.php",data:{act:"count",index:0,url:e}}).fail(function(t,e){if(e!="parsererror"){n(0)}})}function u(e,n){var r=[];t.ajax({type:"GET",dataType:"jsonp",url:"https://connect.mail.ru/share_count",jsonp:"func",data:{url_list:e,callback:"1"}}).done(function(t){n(t[e].shares)}).fail(function(t){n(0)})}function l(e,n){t.ajax({type:"GET",dataType:"jsonp",url:"https://www.linkedin.com/countserv/count/share",data:{url:e,format:"jsonp"}}).done(function(t){n(t.count)}).fail(function(){n(0)})}function c(e,n){t.ajax({type:"GET",dataType:"jsonp",url:"http://odnoklassniki.ru/dk",jsonp:"cb",data:{"st.cmd":"shareData",ref:e}}).done(function(t){n(parseInt(t.count))}).fail(function(){n(0)})}function p(e,n){t.ajax({type:"GET",dataType:"jsonp",url:"https://api.pinterest.com/v1/urls/count.json",data:{url:e}}).done(function(t){n(t.count)}).fail(function(){n(0)})}}})(jQuery);